@(client: Client)

@main("Your account") {
    <div class="page-header">
        <h1>Account</h1>
    </div>
    @if(client.getClientData != null) {
        <div class="row">
            <p>@client.getClientData.getName</p>
            <p>@client.getClientData.getAddress</p>
            <p>@client.getClientData.getTelephone</p>
            @if(client.getClientData.getEndpoint != null) {
                <p>
                    <a class="btn btn-default" href="#" role="button">Synchronize</a>
                </p>
            }
        </div>
    }

    <div class="panel-heading"><h2>Bookings</h2></div>
    <div class="row">
    @if(client.getBookings.isEmpty) {
        No bookings to show.
    } else {
        <table class="table table-striped table-bordered table-hover">
            <thead>
                <tr>
                    <th>Active ?</th>
                    <th>From</th>
                    <th>To</th>
                    <th>Hotel</th>
                    <th>Details</th>
                    <th>Cancel</th>
                </tr>
            </thead>
            <tbody>
            @for(booking <- client.getBookings) {
                <tr>
                    <td>@if(booking.getDateTo.before(new Date) && !booking.getCancelled) {
                        Active
                    } else {
                        Archive
                    }</td>
                    <td>@booking.getDateFrom</td>
                    <td>@booking.getDateTo</td>
                    <td>@booking.getOfferedRoom.getHotel.getName</td>
                    <td>View details</td>
                    <td>@if(booking.canBeCancelled) {
                        <a class="list-item" href="#"><i class="fa fa-fw fa-trash"></i>Cancel</a>
                    }</td>
                </tr>
            }
            </tbody>
        </table>
    }
    </div>

    @if(client.getRole.getRole.equals("business")) {
        <div class="panel-heading"><h2>Offers</h2></div>
        <div class="row">
        @if(client.getOffersPublished.isEmpty) {
            No offers to show.
        } else {
            <table class="table table-striped table-bordered table-hover">
                <thead>
                    <tr>
                        <th>From</th>
                        <th>To</th>
                        <th>Price</th>
                        <th>Visitors</th>
                        <th>Details</th>
                        <th>Edit</th>
                        <th>Remove</th>
                    </tr>
                </thead>
                <tbody>
                @for(offer <- client.getOffersPublished) {
                    <tr>
                        <td>@offer.getDateFrom</td>
                        <td>@offer.getDateTo</td>
                        <td>@offer.getPrice</td>
                        <td>@offer.getVisitCount</td>
                        <td>View</td>
                        <td><a class="list-item" href="#"><i class="fa fa-fw fa-edit"></i>Edit</a></td>
                        <td><a class="list-item" href="#"><i class="fa fa-fw fa-trash"></i>Remove</a></td>
                    </tr>
                }
                </tbody>
            </table>
        }
        </div>
    }
}